# 공유 가계부 앱 종합 테스트 계획

> 작성일: 2026-02-12
> 대상: Flutter 공유 가계부 앱 (house-hold-account)

---

## 1. 인증 (Auth)

### 1.1 로그인

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| AUTH-001 | 정상 이메일/비밀번호로 로그인 성공 | P0 | 정상 |
| AUTH-002 | Google 소셜 로그인 성공 | P0 | 정상 |
| AUTH-003 | 잘못된 이메일 형식 입력 시 유효성 에러 | P0 | 엣지 |
| AUTH-004 | 존재하지 않는 이메일로 로그인 시도 | P0 | 엣지 |
| AUTH-005 | 잘못된 비밀번호로 로그인 시도 | P0 | 엣지 |
| AUTH-006 | 빈 이메일/비밀번호로 로그인 시도 | P1 | 엣지 |
| AUTH-007 | 네트워크 오프라인 상태에서 로그인 시도 | P1 | 엣지 |
| AUTH-008 | 로그인 후 홈 화면으로 정상 리다이렉트 | P0 | 정상 |
| AUTH-009 | 이미 로그인 상태에서 로그인 페이지 접근 시 홈으로 리다이렉트 | P1 | 엣지 |

### 1.2 회원가입

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| AUTH-010 | 정상 이메일/비밀번호로 회원가입 성공 | P0 | 정상 |
| AUTH-011 | 이미 존재하는 이메일로 가입 시도 | P0 | 엣지 |
| AUTH-012 | 비밀번호 최소 길이 미충족 | P1 | 엣지 |
| AUTH-013 | 이메일 인증 페이지로 이동 확인 | P0 | 정상 |
| AUTH-014 | 빈 필드로 회원가입 시도 | P1 | 엣지 |

### 1.3 비밀번호 찾기/재설정

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| AUTH-015 | 비밀번호 찾기 이메일 발송 성공 | P1 | 정상 |
| AUTH-016 | 존재하지 않는 이메일로 비밀번호 찾기 | P1 | 엣지 |
| AUTH-017 | 비밀번호 재설정 페이지에서 새 비밀번호 설정 | P1 | 정상 |
| AUTH-018 | 비밀번호 재설정 - 비밀번호 불일치 | P2 | 엣지 |

### 1.4 로그아웃

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| AUTH-019 | 로그아웃 후 로그인 화면으로 이동 | P0 | 정상 |
| AUTH-020 | 로그아웃 상태에서 보호된 페이지 접근 시 로그인으로 리다이렉트 | P0 | 엣지 |

---

## 2. 가계부 관리 (Ledger)

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| LEDGER-001 | 회원가입 시 기본 가계부 자동 생성 확인 | P0 | 정상 |
| LEDGER-002 | 새 가계부 생성 | P0 | 정상 |
| LEDGER-003 | 가계부 이름 수정 | P1 | 정상 |
| LEDGER-004 | 가계부 삭제 | P1 | 정상 |
| LEDGER-005 | 가계부 목록 조회 | P0 | 정상 |
| LEDGER-006 | 가계부 전환 (다른 가계부 선택) | P0 | 정상 |
| LEDGER-007 | 빈 이름으로 가계부 생성 시도 | P1 | 엣지 |
| LEDGER-008 | 멤버가 있는 가계부 삭제 시도 (owner만 가능) | P1 | 엣지 |
| LEDGER-009 | 가계부 관리 페이지 진입 및 UI 확인 | P1 | 정상 |

---

## 3. 거래 (Transaction)

### 3.1 지출 추가

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| TXN-001 | 지출 거래 정상 추가 (금액, 카테고리, 메모) | P0 | 정상 |
| TXN-002 | 결제수단 선택하여 지출 추가 | P0 | 정상 |
| TXN-003 | 날짜 변경하여 지출 추가 | P1 | 정상 |
| TXN-004 | 금액 0원 입력 시 유효성 에러 | P0 | 엣지 |
| TXN-005 | 금액 미입력 시 저장 불가 | P0 | 엣지 |
| TXN-006 | 카테고리 미선택 시 동작 확인 | P1 | 엣지 |
| TXN-007 | 극단적으로 큰 금액 입력 (999,999,999) | P2 | 엣지 |
| TXN-008 | 음수 금액 입력 시도 | P2 | 엣지 |
| TXN-009 | 할부 설정하여 지출 추가 | P1 | 정상 |
| TXN-010 | 고정비 카테고리로 반복 거래 설정 | P1 | 정상 |

### 3.2 수입 추가

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| TXN-011 | 수입 거래 정상 추가 | P0 | 정상 |
| TXN-012 | 수입 카테고리 선택 | P0 | 정상 |
| TXN-013 | 빈 금액으로 수입 추가 시도 | P1 | 엣지 |

### 3.3 자산 거래

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| TXN-014 | 자산 거래 추가 (정기예금, 주식 등) | P1 | 정상 |
| TXN-015 | 만기일 설정하여 자산 추가 | P1 | 정상 |

### 3.4 거래 수정/삭제

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| TXN-016 | 기존 거래 금액 수정 | P0 | 정상 |
| TXN-017 | 기존 거래 카테고리 변경 | P0 | 정상 |
| TXN-018 | 거래 삭제 | P0 | 정상 |
| TXN-019 | 거래 삭제 확인 다이얼로그 표시 | P1 | 정상 |
| TXN-020 | 거래 상세 보기 | P0 | 정상 |

### 3.5 빠른 지출 (Quick Expense)

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| TXN-021 | 빠른 지출 시트에서 금액만 입력하여 저장 | P1 | 정상 |
| TXN-022 | 딥링크로 빠른 지출 진입 (/quick-expense) | P2 | 정상 |

### 3.6 딥링크

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| TXN-023 | /add-expense 딥링크로 지출 추가 화면 진입 | P2 | 정상 |
| TXN-024 | /add-income 딥링크로 수입 추가 화면 진입 | P2 | 정상 |
| TXN-025 | 비로그인 상태에서 딥링크 접근 시 로그인으로 리다이렉트 | P2 | 엣지 |

---

## 4. 카테고리 관리 (Category)

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| CAT-001 | 카테고리 목록 조회 (수입/지출/자산 탭) | P0 | 정상 |
| CAT-002 | 새 지출 카테고리 추가 | P0 | 정상 |
| CAT-003 | 새 수입 카테고리 추가 | P1 | 정상 |
| CAT-004 | 카테고리 이름 수정 | P1 | 정상 |
| CAT-005 | 카테고리 삭제 | P1 | 정상 |
| CAT-006 | 거래가 연결된 카테고리 삭제 시도 | P1 | 엣지 |
| CAT-007 | 빈 이름으로 카테고리 생성 시도 | P1 | 엣지 |
| CAT-008 | 중복 이름 카테고리 생성 시도 | P2 | 엣지 |
| CAT-009 | 카테고리 아이콘/색상 설정 | P2 | 정상 |

---

## 5. 결제수단 관리 (Payment Method)

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| PM-001 | 결제수단 목록 조회 | P0 | 정상 |
| PM-002 | 새 결제수단 추가 (현금, 카드 등) | P0 | 정상 |
| PM-003 | 결제수단 수정 | P1 | 정상 |
| PM-004 | 결제수단 삭제 | P1 | 정상 |
| PM-005 | 결제수단 마법사(Wizard) 플로우 | P1 | 정상 |
| PM-006 | 자동수집 설정 (manual/suggest/auto 모드) | P1 | 정상 |
| PM-007 | 자동수집 결제수단의 기본 카테고리 설정 | P2 | 정상 |
| PM-008 | 결제수단별 수집내역 탭 조회 | P1 | 정상 |
| PM-009 | 딥링크로 수집내역 탭 진입 (?tab=pending) | P2 | 정상 |

### 5.1 SMS/Push 자동수집

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| PM-010 | SMS 권한 요청 다이얼로그 표시 | P1 | 정상 |
| PM-011 | 임시 거래(Pending) 목록 조회 | P1 | 정상 |
| PM-012 | 임시 거래 확인(confirm) | P1 | 정상 |
| PM-013 | 임시 거래 거부(reject) | P1 | 정상 |
| PM-014 | 임시 거래 수정 후 확인 | P1 | 정상 |
| PM-015 | 중복 거래 감지 확인 | P2 | 엣지 |

---

## 6. 홈 화면 뷰 (Calendar / List / Weekly / Daily)

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| VIEW-001 | 캘린더 뷰 월간 표시 | P0 | 정상 |
| VIEW-002 | 캘린더 날짜 탭하여 일별 거래 조회 | P0 | 정상 |
| VIEW-003 | 월간 리스트 뷰 전환 | P0 | 정상 |
| VIEW-004 | 주간 뷰 전환 | P1 | 정상 |
| VIEW-005 | 일별 뷰 전환 | P1 | 정상 |
| VIEW-006 | 월 이동 (이전/다음) | P0 | 정상 |
| VIEW-007 | 월간 수입/지출 합계 표시 | P0 | 정상 |
| VIEW-008 | 거래 필터 칩 (수입/지출/자산) 동작 | P1 | 정상 |
| VIEW-009 | 거래 없는 달 표시 (빈 상태) | P1 | 엣지 |
| VIEW-010 | 사용자 프로필 요약 표시 | P1 | 정상 |
| VIEW-011 | 일별 카테고리 분석 시트 | P2 | 정상 |

---

## 7. 검색 (Search)

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| SEARCH-001 | 거래 메모로 검색 | P1 | 정상 |
| SEARCH-002 | 거래 금액으로 검색 | P1 | 정상 |
| SEARCH-003 | 검색 결과 없음 표시 | P1 | 엣지 |
| SEARCH-004 | 빈 검색어 입력 | P2 | 엣지 |
| SEARCH-005 | 검색 결과에서 거래 상세 보기 | P2 | 정상 |

---

## 8. 통계 (Statistics)

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| STAT-001 | 카테고리별 도넛 차트 표시 | P1 | 정상 |
| STAT-002 | 결제수단별 도넛 차트 표시 | P1 | 정상 |
| STAT-003 | 트렌드(추세) 막대 차트 표시 | P1 | 정상 |
| STAT-004 | 수입/지출 타입 필터 전환 | P1 | 정상 |
| STAT-005 | 기간 변경 (월별 이동) | P1 | 정상 |
| STAT-006 | 공유 가계부 사용자 필터 | P2 | 정상 |
| STAT-007 | 거래 없는 기간 통계 (빈 차트) | P2 | 엣지 |
| STAT-008 | 공유 카테고리 분포 카드 | P2 | 정상 |

---

## 9. 자산 관리 (Asset)

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| ASSET-001 | 자산 페이지 진입 및 요약 카드 | P1 | 정상 |
| ASSET-002 | 자산 유형별 차트 (도넛/라인) | P1 | 정상 |
| ASSET-003 | 자산 목표 생성 | P1 | 정상 |
| ASSET-004 | 자산 목표 진행률 표시 | P1 | 정상 |
| ASSET-005 | 자산 목표 수정/삭제 | P2 | 정상 |
| ASSET-006 | D-day 배지 표시 (만기일 기준) | P2 | 정상 |
| ASSET-007 | 카테고리별 자산 목록 조회 | P2 | 정상 |

---

## 10. 설정 (Settings)

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| SET-001 | 설정 페이지 진입 | P0 | 정상 |
| SET-002 | 다크모드 전환 | P1 | 정상 |
| SET-003 | 언어 변경 (한국어/영어) | P1 | 정상 |
| SET-004 | 사용자 색상 변경 | P2 | 정상 |
| SET-005 | 이용약관 페이지 조회 | P2 | 정상 |
| SET-006 | 개인정보처리방침 페이지 조회 | P2 | 정상 |
| SET-007 | 데이터 내보내기 (Export) | P2 | 정상 |
| SET-008 | 사용 가이드 페이지 조회 | P2 | 정상 |
| SET-009 | 자동수집 가이드 페이지 조회 | P2 | 정상 |
| SET-010 | 알림 설정 페이지 진입 및 토글 | P1 | 정상 |

---

## 11. 가계부 공유/초대 (Share)

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| SHARE-001 | 공유 관리 페이지 진입 | P0 | 정상 |
| SHARE-002 | 다른 사용자에게 초대 보내기 | P0 | 정상 |
| SHARE-003 | 초대 수락 | P0 | 정상 |
| SHARE-004 | 초대 거절 | P1 | 정상 |
| SHARE-005 | 공유 멤버 목록 조회 | P0 | 정상 |
| SHARE-006 | 공유 멤버 제거 (owner 권한) | P1 | 정상 |
| SHARE-007 | 존재하지 않는 이메일로 초대 시도 | P1 | 엣지 |
| SHARE-008 | 이미 초대된 사용자에게 재초대 시도 | P2 | 엣지 |
| SHARE-009 | 공유 가계부에서 다른 사용자의 거래 조회 | P0 | 정상 |
| SHARE-010 | 멤버 권한별 동작 차이 (owner/admin/member) | P1 | 엣지 |
| SHARE-011 | 공유 가계부에서 동시 거래 추가 (동시성) | P2 | 엣지 |

---

## 12. 고정비 관리 (Fixed Expense)

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| FIXED-001 | 고정비 관리 페이지 진입 | P1 | 정상 |
| FIXED-002 | 고정비 카테고리 추가 | P1 | 정상 |
| FIXED-003 | 고정비 설정 수정 | P1 | 정상 |
| FIXED-004 | 고정비 삭제 | P2 | 정상 |

---

## 13. 알림 (Notification)

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| NOTI-001 | 알림 설정 토글 (활성/비활성) | P1 | 정상 |
| NOTI-002 | FCM 토큰 등록 확인 | P2 | 정상 |
| NOTI-003 | 공유 가계부 변경 시 푸시 알림 수신 | P2 | 정상 |

---

## 14. 홈 위젯 (Widget)

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| WIDGET-001 | 홈 위젯에서 빠른 지출 추가 | P2 | 정상 |
| WIDGET-002 | 월간 요약 위젯 데이터 표시 | P2 | 정상 |

---

## 15. 스플래시 / 라우팅

| ID | 시나리오 | 우선순위 | 유형 |
|----|---------|---------|------|
| ROUTE-001 | 스플래시 2초 후 인증 상태에 따라 리다이렉트 | P0 | 정상 |
| ROUTE-002 | 존재하지 않는 경로 접근 시 에러 페이지 | P2 | 엣지 |
| ROUTE-003 | 비밀번호 재설정 링크로 진입 시 재설정 페이지 표시 | P1 | 정상 |

---

## 16. 엣지케이스 보충 시나리오 (추가)

> 코드 분석을 기반으로 기존 계획에 누락된 엣지케이스를 중점적으로 보충합니다.

### 16.1 인증 엣지케이스

| ID | 시나리오 | 우선순위 | 유형 | 상세 설명 |
|----|---------|---------|------|----------|
| EDGE-AUTH-001 | 로그인 후 auth state 3초 타임아웃 | P1 | 엣지 | 로그인 API 성공 후 authStateProvider 업데이트가 3초 내에 안 되면 에러 메시지 표시 (login_page.dart:46-61) |
| EDGE-AUTH-002 | 이메일 미인증 계정으로 로그인 | P0 | 엣지 | `email_not_confirmed` 에러 코드에 대한 한글 에러 메시지 표시 확인 |
| EDGE-AUTH-003 | Google 로그인 취소 (사용자가 팝업 닫기) | P1 | 엣지 | 소셜 로그인 팝업에서 취소 시 앱이 정상 복귀하는지 확인 |
| EDGE-AUTH-004 | 회원가입 비밀번호 확인 불일치 | P0 | 엣지 | _confirmPasswordController와 _passwordController 불일치 시 폼 유효성 에러 |
| EDGE-AUTH-005 | 회원가입 이름 필드 빈값 | P1 | 엣지 | displayName 빈 문자열로 가입 시 동작 |
| EDGE-AUTH-006 | 네트워크 오류 시 SocketException/Failed host lookup 에러 메시지 | P1 | 엣지 | AuthRetryableFetchException 또는 SocketException 시 네트워크 에러 메시지 확인 (login_page.dart:78-80) |
| EDGE-AUTH-007 | 회원가입 중복 이메일 - 영어 메시지 한글 변환 | P1 | 엣지 | `User already registered` 영어 메시지가 한글로 변환되는지 확인 (signup_page.dart:79-80) |
| EDGE-AUTH-008 | 세션 만료 후 API 호출 시 자동 로그아웃 | P1 | 엣지 | Supabase 세션 토큰 만료 시 앱이 로그인 화면으로 리다이렉트 |

### 16.2 거래 입력 엣지케이스

| ID | 시나리오 | 우선순위 | 유형 | 상세 설명 |
|----|---------|---------|------|----------|
| EDGE-TXN-001 | 금액 필드 포커스 시 '0' 자동 클리어 | P1 | 엣지 | 초기값 '0' 상태에서 포커스 시 텍스트 클리어, 포커스 해제 시 빈값이면 '0' 복원 (add_transaction_sheet.dart:63-74) |
| EDGE-TXN-002 | 콤마 포함 금액 파싱 | P1 | 엣지 | `1,000,000` 같은 포맷된 금액이 int.parse 전에 정규식으로 콤마 제거되는지 확인 (line 122-123) |
| EDGE-TXN-003 | 거래 유형 전환 시 카테고리 초기화 | P0 | 엣지 | 지출→수입 타입 전환 시 _selectedCategory가 null로 초기화되는지 (line 251-253) |
| EDGE-TXN-004 | 지출→수입 전환 시 할부/결제수단 초기화 | P1 | 엣지 | 수입/자산 타입에서는 할부모드, 결제수단이 초기화되는지 (line 253-256) |
| EDGE-TXN-005 | 할부 모드와 고정비 모드 상호 배타성 | P1 | 엣지 | 할부 활성화 시 반복설정 초기화, 고정비 활성화 시 할부 비활성화 |
| EDGE-TXN-006 | 할부 미설정 상태에서 할부 모드 ON으로 저장 시도 | P1 | 엣지 | `_isInstallmentMode && _installmentResult == null` 일 때 에러 메시지 (line 113-116) |
| EDGE-TXN-007 | 날짜 선택 범위 경계값 (2020-01-01, 2030-12-31) | P2 | 엣지 | DatePicker firstDate/lastDate 범위 밖 날짜 선택 불가 확인 |
| EDGE-TXN-008 | 만기일 과거 날짜 선택 불가 | P2 | 엣지 | 자산 만기일 선택 시 firstDate가 DateTime.now()로 과거 날짜 차단 (line 103) |
| EDGE-TXN-009 | 만기일 최대 30년 후까지만 선택 가능 | P2 | 엣지 | lastDate: DateTime.now() + 365*30일 확인 |
| EDGE-TXN-010 | 거래 저장 중 네트워크 에러 | P1 | 엣지 | _submit()에서 catch로 에러 처리 후 로딩 상태 해제 및 에러 스낵바 표시 |
| EDGE-TXN-011 | 거래 저장 성공 후 시트 닫힘 확인 | P0 | 엣지 | Navigator.pop() 후 SnackBar 표시, mounted 체크 정상 동작 |
| EDGE-TXN-012 | 수정 시 기존 데이터 정확한 초기화 | P1 | 엣지 | EditTransactionSheet에서 기존 거래의 금액, 제목, 메모, 카테고리, 결제수단이 정확히 프리필되는지 |
| EDGE-TXN-013 | 금액에 특수문자/문자 입력 시 | P2 | 엣지 | replaceAll(RegExp(r'[^\d]'), '') 로 숫자 외 제거 후 파싱 |
| EDGE-TXN-014 | 고정비 ON → 반복주기 자동 월간 설정 | P1 | 엣지 | 고정비 활성화 시 RecurringType.none이면 자동으로 monthly로 설정 (line 360-363) |
| EDGE-TXN-015 | 고정비 해제 시 고정비 카테고리 초기화 | P1 | 엣지 | isFixedExpense false 전환 시 _selectedFixedExpenseCategory = null (line 375) |
| EDGE-TXN-016 | 반복 거래의 종료일 미설정 (무한 반복) | P2 | 엣지 | endDate null일 때 '계속 반복' 메시지 표시 |
| EDGE-TXN-017 | 다른 사용자의 거래 수정/삭제 시도 (RLS) | P1 | 엣지 | 공유 가계부에서 다른 사용자의 거래를 수정/삭제 시 RLS 정책에 의한 권한 에러 |
| EDGE-TXN-018 | 거래 금액 int 오버플로우 (2^31 초과) | P2 | 엣지 | Dart int는 64bit이지만 PostgreSQL int4 범위(~21억) 초과 시 DB 에러 |

### 16.3 캘린더/뷰 엣지케이스

| ID | 시나리오 | 우선순위 | 유형 | 상세 설명 |
|----|---------|---------|------|----------|
| EDGE-VIEW-001 | 미래 월로 빠르게 연속 이동 | P2 | 엣지 | onPageChanged 빠른 연속 호출 시 API 요청 중복/레이스 컨디션 |
| EDGE-VIEW-002 | 윤년 2월 29일 거래 표시 | P2 | 엣지 | 2028-02-29 같은 윤년 날짜에 거래가 정상 표시되는지 |
| EDGE-VIEW-003 | 캘린더 Pull-to-Refresh 중복 호출 | P2 | 엣지 | 새로고침 중 재차 당기기 시 중복 API 호출 방지 |
| EDGE-VIEW-004 | 거래 필터 복합 조합 (지출+자산 동시) | P2 | 엣지 | 여러 필터 칩 동시 선택 시 AND/OR 조건 정확성 |
| EDGE-VIEW-005 | 대량 거래 월 (100건 이상) 렌더링 성능 | P2 | 엣지 | 한 달에 100건 이상 거래 시 캘린더 셀 및 리스트 렌더링 성능 |
| EDGE-VIEW-006 | 가계부 전환 후 캘린더 데이터 갱신 | P1 | 엣지 | 다른 가계부로 전환 시 이전 가계부 데이터가 아닌 새 가계부 데이터 표시 |
| EDGE-VIEW-007 | 타임존 경계 거래 (자정 근처) | P2 | 엣지 | UTC/KST 변환 시 자정 근처 거래가 올바른 날짜에 표시되는지 (toLocalDateOnly 관련) |

### 16.4 공유/초대 엣지케이스

| ID | 시나리오 | 우선순위 | 유형 | 상세 설명 |
|----|---------|---------|------|----------|
| EDGE-SHARE-001 | 자기 자신에게 초대 보내기 | P1 | 엣지 | 로그인한 사용자가 자신의 이메일로 초대 시 에러 처리 |
| EDGE-SHARE-002 | 공유 멤버 없는 가계부의 공유 관리 화면 | P1 | 엣지 | ownedLedgers.isEmpty && receivedInvites.isEmpty 시 빈 상태 UI (line 98-99) |
| EDGE-SHARE-003 | 초대 수락 후 가계부 목록 실시간 갱신 | P1 | 엣지 | 초대 수락 즉시 가계부 목록에 반영되는지 (invalidate 호출 확인) |
| EDGE-SHARE-004 | 공유 가계부 owner가 탈퇴 시 | P1 | 엣지 | owner가 떠나면 가계부가 어떻게 되는지 (orphaned 가계부 방지) |
| EDGE-SHARE-005 | 초대 만료 후 수락 시도 | P2 | 엣지 | 만료된 초대 링크/코드로 수락 시 에러 메시지 |
| EDGE-SHARE-006 | member 권한으로 멤버 제거 시도 | P1 | 엣지 | admin/owner만 멤버 제거 가능, member는 불가 |
| EDGE-SHARE-007 | 공유 가계부에서 실시간 데이터 동기화 | P2 | 엣지 | 다른 사용자가 거래 추가 시 Realtime 구독으로 자동 갱신 |

### 16.5 결제수단/SMS 자동수집 엣지케이스

| ID | 시나리오 | 우선순위 | 유형 | 상세 설명 |
|----|---------|---------|------|----------|
| EDGE-PM-001 | 거래가 연결된 결제수단 삭제 | P1 | 엣지 | payment_method_id FK가 있는 거래 존재 시 삭제 동작 |
| EDGE-PM-002 | 자동수집 모드 전환 중 pending 거래 존재 | P2 | 엣지 | suggest→manual 전환 시 기존 pending 거래 처리 방법 |
| EDGE-PM-003 | 동일 금액/시간 SMS 연속 수신 (중복 감지) | P1 | 엣지 | DuplicateCheckService가 동일 거래를 정확히 감지하는지 |
| EDGE-PM-004 | SMS 파싱 실패 (금액 추출 불가) | P1 | 엣지 | ParsedSmsResult.isParsed == false 시 pending 거래 미생성 |
| EDGE-PM-005 | 콤마 없는 금액 SMS 파싱 | P2 | 엣지 | `50000원` vs `50,000원` 모두 정상 파싱 (amountPattern) |
| EDGE-PM-006 | SMS 취소 키워드 감지 | P1 | 엣지 | cancelKeywords 매칭 시 거래 유형 처리 (환불/취소 거래) |
| EDGE-PM-007 | 알림 리스너 권한 거부 후 재요청 | P2 | 엣지 | BIND_NOTIFICATION_LISTENER_SERVICE 거부 시 동작 및 재요청 플로우 |
| EDGE-PM-008 | iOS에서 자동수집 기능 접근 시도 | P1 | 엣지 | Platform.isAndroid 체크로 iOS에서 자동수집 메뉴 숨김 확인 |
| EDGE-PM-009 | 공유 가계부에서 자동수집 결제수단 소유자 구분 | P1 | 엣지 | owner_user_id로 사용자별 독립 관리, 다른 사용자의 자동수집 결제수단 접근 불가 |
| EDGE-PM-010 | 자동수집 결제수단 동일 이름 사용자별 독립 생성 | P2 | 엣지 | UNIQUE(ledger_id, owner_user_id, name) WHERE can_auto_save=true 제약 조건 |

### 16.6 데이터/네트워크 엣지케이스

| ID | 시나리오 | 우선순위 | 유형 | 상세 설명 |
|----|---------|---------|------|----------|
| EDGE-NET-001 | API 호출 중 앱 백그라운드 전환 | P2 | 엣지 | 비동기 작업 중 앱 백그라운드로 이동 후 복귀 시 mounted 체크 |
| EDGE-NET-002 | 느린 네트워크에서 로딩 인디케이터 표시 | P1 | 엣지 | _isLoading 상태 동안 버튼 비활성화 및 로딩 UI 표시 |
| EDGE-NET-003 | 동시 저장 버튼 더블탭 방지 | P1 | 엣지 | _isLoading=true 동안 저장 버튼 재클릭 방지 |
| EDGE-NET-004 | Supabase RLS 위반 시 에러 메시지 | P1 | 엣지 | 다른 사용자의 데이터 접근 시 PostgrestException 처리 |
| EDGE-NET-005 | 오프라인 상태에서 데이터 조회 | P2 | 엣지 | 인터넷 미연결 시 캐시 데이터 또는 에러 상태 표시 |
| EDGE-NET-006 | 대용량 이미지 첨부 거래 저장 | P2 | 엣지 | imageUrl 포함 거래에서 이미지 업로드 실패 시 처리 |

### 16.7 UI/UX 엣지케이스

| ID | 시나리오 | 우선순위 | 유형 | 상세 설명 |
|----|---------|---------|------|----------|
| EDGE-UI-001 | 키보드 올라올 때 바텀시트 스크롤 | P1 | 엣지 | viewInsets.bottom 감지로 하단 패딩 추가, 입력 필드 가려지지 않는지 (line 236-240) |
| EDGE-UI-002 | DraggableScrollableSheet 최소/최대 크기 | P2 | 엣지 | 거래 추가 시트 minChildSize 0.5, maxChildSize 0.95 경계 동작 |
| EDGE-UI-003 | 다크모드에서 모든 텍스트 가독성 | P1 | 엣지 | colorScheme 기반 색상이 다크모드에서 충분한 대비를 제공하는지 |
| EDGE-UI-004 | 태블릿 반응형 레이아웃 (maxWidth 600) | P2 | 엣지 | CenteredContent maxWidth 적용 시 태블릿에서 UI 깨짐 없는지 (responsive_utils.dart) |
| EDGE-UI-005 | 극단적으로 긴 메모/제목 입력 | P2 | 엣지 | 500자 이상 메모 입력 시 UI 오버플로우 없이 표시 |
| EDGE-UI-006 | 한글/영어 전환 시 레이아웃 깨짐 | P2 | 엣지 | l10n 문자열 길이 차이로 인한 오버플로우 |
| EDGE-UI-007 | 스켈레톤 로딩 → 실제 데이터 전환 깜빡임 | P2 | 엣지 | 로딩 중 skeleton_loading 표시 후 데이터 로드 시 부드러운 전환 |
| EDGE-UI-008 | 빈 상태 위젯에서 CTA 버튼 동작 | P1 | 엣지 | EmptyState 위젯의 액션 버튼이 올바른 화면으로 이동하는지 |

### 16.8 고정비/반복 거래 엣지케이스

| ID | 시나리오 | 우선순위 | 유형 | 상세 설명 |
|----|---------|---------|------|----------|
| EDGE-FIXED-001 | 반복 거래 종료일 이후 생성 중단 | P1 | 엣지 | recurringEndDate 도달 시 더 이상 자동 생성되지 않는지 |
| EDGE-FIXED-002 | 반복 거래 중간 수정 시 기존 거래 영향 | P2 | 엣지 | 템플릿 수정 시 이미 생성된 거래와 앞으로 생성될 거래 분리 |
| EDGE-FIXED-003 | 월간 반복 31일 설정 시 2월 처리 | P2 | 엣지 | 31일 반복인데 2월(28/29일)인 경우 말일 또는 스킵 처리 |
| EDGE-FIXED-004 | 고정비와 일반 카테고리 동시 표시 분리 | P1 | 엣지 | 고정비 카테고리와 일반 카테고리가 UI에서 명확히 구분되는지 |

### 16.9 통계/자산 엣지케이스

| ID | 시나리오 | 우선순위 | 유형 | 상세 설명 |
|----|---------|---------|------|----------|
| EDGE-STAT-001 | 카테고리 하나만 있을 때 도넛 차트 | P2 | 엣지 | 100% 한 카테고리일 때 차트가 정상 렌더링되는지 |
| EDGE-STAT-002 | 금액 0원 거래만 있을 때 차트 | P2 | 엣지 | 모든 거래 합계가 0일 때 차트 division by zero 방지 |
| EDGE-STAT-003 | 공유 가계부 사용자 필터와 타입 필터 조합 | P2 | 엣지 | 특정 사용자 + 특정 지출 유형 조합 필터링 정확성 |
| EDGE-ASSET-001 | 자산 목표 달성률 100% 초과 | P2 | 엣지 | 목표 금액보다 많이 저축 시 진행률 바 오버플로우 방지 |
| EDGE-ASSET-002 | 만기일 D-day 0일 (오늘) | P2 | 엣지 | 오늘이 만기일인 경우 D-day 배지 표시 |
| EDGE-ASSET-003 | 만기일 지난 자산 표시 | P2 | 엣지 | 만기일 초과 시 'D+N' 또는 만기 완료 상태 표시 |

---

## 우선순위 요약

| 우선순위 | 기존 | 보충 | 합계 | 설명 |
|---------|------|------|------|------|
| **P0** | 25 | 4 | 29 | 핵심 플로우 - 반드시 통과해야 함 |
| **P1** | 42 | 32 | 74 | 주요 기능 - 릴리즈 전 확인 필요 |
| **P2** | 28 | 30 | 58 | 보조 기능 - 가능하면 확인 |

**총 테스트 시나리오: 161개** (기존 95개 + 보충 66개)

---

## 테스트 실행 순서 (권장)

1. **Phase 1 (P0)**: Auth → Ledger → Transaction CRUD → Share → Calendar View
2. **Phase 2 (P1)**: Category → Payment Method → Settings → Statistics → Search → Fixed Expense
3. **Phase 3 (P2)**: Asset → Widget → Deep Link → Edge Cases
