appId: com.household.shared.shared_household_account
---
# E04: 사용 중인 카테고리 삭제 시도
# 거래에서 사용 중인 카테고리를 삭제하려 할 때 확인 다이얼로그가 표시되는지 확인

- runFlow:
    file: '../../flows/common/setup.yaml'
    env:
      EMAIL: 'user1@test.com'
      PASSWORD: 'testpass123'

# 더보기 > 카테고리 관리 진입
- tapOn: '더보기'
- tapOn: '카테고리'

# 테스트용 카테고리 추가
- tapOn: '카테고리 추가'
- tapOn: '카테고리 이름'
- inputText: '삭제테스트'
- tapOn: '저장'

- extendedWaitUntil:
    notVisible: '카테고리 추가'
    timeout: 5000

# 뒤로가기 후 홈으로 이동
- back
- tapOn: '캘린더'

# 해당 카테고리로 거래 추가
- tapOn:
    id: 'fab_add_transaction'
- tapOn: '지출'
- tapOn: '금액'
- inputText: '1000'
- tapOn: '제목'
- inputText: '삭제테스트거래'

# 카테고리 선택
- tapOn: '카테고리'
- tapOn: '삭제테스트'
- tapOn: '저장'

- extendedWaitUntil:
    visible: '거래가 추가되었습니다'
    timeout: 10000

# 다시 카테고리 관리로 이동
- tapOn: '더보기'
- tapOn: '카테고리'

# 삭제테스트 카테고리 삭제 시도 (슬라이드 또는 롱프레스)
- longPressOn: '삭제테스트'

# 삭제 버튼 탭
- tapOn: '삭제'

# 확인 다이얼로그 표시 확인
- extendedWaitUntil:
    visible: '확인'
    timeout: 5000

- takeScreenshot: 'screenshots/e04'
