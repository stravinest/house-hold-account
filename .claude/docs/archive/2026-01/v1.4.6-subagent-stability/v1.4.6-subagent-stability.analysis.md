# v1.4.6 Sub Agent í˜¸ì¶œ ë¶ˆì•ˆì • ì›ì¸ ë¶„ì„

> **ë¶„ì„ì¼**: 2026-01-28
> **ë²„ì „**: v1.4.6
> **ë¶„ì„ì**: Claude Code + bkit gap-detector
> **ìƒíƒœ**: ë¶„ì„ ì™„ë£Œ

---

## 1. ë¬¸ì œ ìš”ì•½

### 1.1 ë°œìƒí•œ ì—ëŸ¬

```
Error: Agent type 'gap-detector' not found.
Available agents: Bash, general-purpose, statusline-setup, Explore, Plan,
claude-code-guide, agent-sdk-dev:agent-sdk-verifier-ts, ...,
bkit:gap-detector, bkit:code-analyzer, ...
```

### 1.2 í•µì‹¬ ë¬¸ì œ

**Plugin agentë¥¼ í˜¸ì¶œí•  ë•Œ `bkit:` prefix ì—†ì´ í˜¸ì¶œí•˜ì—¬ ì‹¤íŒ¨**

| í˜¸ì¶œ ì‹œë„ | ì‹¤ì œ ë“±ë¡ëª… | ê²°ê³¼ |
|-----------|-------------|------|
| `gap-detector` | `bkit:gap-detector` | âŒ ì‹¤íŒ¨ |
| `code-analyzer` | `bkit:code-analyzer` | âŒ ì‹¤íŒ¨ |
| `pdca-iterator` | `bkit:pdca-iterator` | âŒ ì‹¤íŒ¨ |

---

## 2. Claude Code ê³µì‹ ë¬¸ì„œ ë¶„ì„

### 2.1 Task Tool subagent_type ëª…ëª… ê·œì¹™

**ì¶œì²˜**: [Create custom subagents - Claude Code Docs](https://code.claude.com/docs/en/sub-agents)

#### Built-in Agents (prefix ë¶ˆí•„ìš”)
```
- Explore
- Plan
- general-purpose
- Bash
- statusline-setup
- claude-code-guide
```

#### Plugin Agents (prefix í•„ìˆ˜)
```
í˜•ì‹: {plugin-name}:{agent-name}

ì˜ˆì‹œ:
- bkit:gap-detector
- bkit:code-analyzer
- compound-engineering:review:security-sentinel
```

### 2.2 Agent ë“±ë¡ ìš°ì„ ìˆœìœ„

| ìœ„ì¹˜ | ë²”ìœ„ | ìš°ì„ ìˆœìœ„ |
|------|------|----------|
| `--agents` CLI flag | í˜„ì¬ ì„¸ì…˜ | 1 (ìµœê³ ) |
| `.claude/agents/` | í˜„ì¬ í”„ë¡œì íŠ¸ | 2 |
| `~/.claude/agents/` | ëª¨ë“  í”„ë¡œì íŠ¸ | 3 |
| Pluginì˜ `agents/` | í”ŒëŸ¬ê·¸ì¸ í™œì„±í™” ë²”ìœ„ | 4 (ìµœì €) |

### 2.3 Plugin Agent ëª…ëª… ê·œì¹™

ê³µì‹ ë¬¸ì„œì— ë”°ë¥´ë©´:
> "Plugin subagents come from plugins you've installed. They appear in `/agents` alongside your custom subagents."

**ì¤‘ìš”**: Plugin agentsëŠ” ìë™ìœ¼ë¡œ `{plugin-name}:` prefixê°€ ë¶™ìŒ

---

## 3. GitHub Issues ë¶„ì„

### 3.1 ê´€ë ¨ ì´ìŠˆ ëª©ë¡

| ì´ìŠˆ ë²ˆí˜¸ | ì œëª© | ìƒíƒœ | ê´€ë ¨ì„± |
|-----------|------|------|--------|
| [#17524](https://github.com/anthropics/claude-code/issues/17524) | Plugin agents and skills don't load, only MCP servers | Open | ë†’ìŒ |
| [#19276](https://github.com/anthropics/claude-code/issues/19276) | Feature Request: Custom Subagent Support in Task Tool | Open | ë†’ìŒ |
| [#18013](https://github.com/anthropics/claude-code/issues/18013) | Plugin skill agent path resolution looks in wrong directory | Open | ì¤‘ê°„ |
| [#18982](https://github.com/anthropics/claude-code/issues/18982) | Plugin agents not loading in v2.1.12 | Closed | ë†’ìŒ |
| [#17688](https://github.com/anthropics/claude-code/issues/17688) | Skill-scoped hooks in SKILL.md frontmatter not triggered | Open | ì¤‘ê°„ |
| [#13605](https://github.com/anthropics/claude-code/issues/13605) | Custom plugin subagents cannot access MCP tools | Open | ì¤‘ê°„ |
| [#16407](https://github.com/anthropics/claude-code/issues/16407) | Plugin agents incorrectly listed in Skill tool | Closed | ë†’ìŒ |
| [#15178](https://github.com/anthropics/claude-code/issues/15178) | Plugin skills not injected into available_skills context | Open | ì¤‘ê°„ |

### 3.2 Plugin ì»´í¬ë„ŒíŠ¸ë³„ Prefix ê·œì¹™ (ê³µì‹ ë¬¸ì„œ)

**ì¶œì²˜**: [Create plugins - Claude Code Docs](https://code.claude.com/docs/en/plugins)

| ì ‘ê·¼ ë°©ì‹ | Skill ì´ë¦„ í˜•ì‹ | ì í•©í•œ ìš©ë„ |
|-----------|-----------------|-------------|
| **Standalone** (`.claude/` directory) | `/hello` | ê°œì¸ ì›Œí¬í”Œë¡œìš°, í”„ë¡œì íŠ¸ë³„ ì»¤ìŠ¤í„°ë§ˆì´ì§• |
| **Plugins** (with `.claude-plugin/plugin.json`) | `/plugin-name:hello` | íŒ€/ì»¤ë®¤ë‹ˆí‹° ê³µìœ , ë§ˆì¼“í”Œë ˆì´ìŠ¤ ë°°í¬ |

> **ê³µì‹ ë¬¸ì„œ ì¸ìš©**: "Plugin skills are always namespaced (like `/greet:hello`) to prevent conflicts when multiple plugins have skills with the same name."

### 3.3 Command vs Skill vs Agent Prefix ë¶ˆì¼ì¹˜ ì´ìŠˆ

#### Issue #20995 - Commandsì™€ Skillsì˜ prefix ì²˜ë¦¬ ë¶ˆì¼ì¹˜

**ìƒíƒœ**: Open

```yaml
# Command (prefix ì œê±°ë¨ - ë²„ê·¸)
# my-plugin/commands/test.md
---
name: my-plugin:test
---
# Expected: /my-plugin:test
# Actual: /test (prefix ì œê±°ë¨) âŒ

# Skill (prefix ìœ ì§€ë¨ - ì •ìƒ)
# my-plugin/skills/stories/SKILL.md
---
name: my-plugin:stories
---
# Expected: /my-plugin:stories
# Actual: /my-plugin:stories âœ…
```

#### Issue #20802 - user-invocable Skillì˜ autocomplete prefix ëˆ„ë½

**ìƒíƒœ**: Open

| Plugin | êµ¬ì¡° | Autocomplete í‘œì‹œ |
|--------|------|-------------------|
| plugin-dev | `commands/create-plugin.md` | `plugin-dev:create-plugin` âœ… |
| claude-hud | `commands/setup.md` | `claude-hud:setup` âœ… |
| ork | `skills/commit/SKILL.md` with `user-invocable: true` | `commit` (prefix ì—†ìŒ) âŒ |

**ê²°ë¡ **: `commands/` ë””ë ‰í† ë¦¬ì˜ íŒŒì¼ì€ prefixê°€ í‘œì‹œë˜ì§€ë§Œ, `skills/` ë””ë ‰í† ë¦¬ì˜ `user-invocable: true` skillì€ prefix ì—†ì´ í‘œì‹œë¨.

#### Issue #17271 - Plugin skillì´ slash commandì— í‘œì‹œ ì•ˆë¨

**ìƒíƒœ**: Open

| ìœ í˜• | Project ë ˆë²¨ | Plugin ë ˆë²¨ |
|------|--------------|-------------|
| Command | Visible | Visible |
| Skill | Visible | **Invisible** âŒ |

### 3.4 Agent Prefix ê·œì¹™ (í™•ì •)

**ì¶œì²˜**: [Plugins reference - Agents](https://code.claude.com/docs/en/plugins-reference#agents)

AgentëŠ” Command/Skillê³¼ ë‹¬ë¦¬ **ì¼ê´€ë˜ê²Œ prefixê°€ ì ìš©ë¨**:

| Agent ìœ„ì¹˜ | ë“±ë¡ í˜•ì‹ | ì˜ˆì‹œ |
|------------|-----------|------|
| `.claude/agents/` | `{agent-name}` | `my-agent` |
| `~/.claude/agents/` | `{agent-name}` | `my-agent` |
| Plugin `agents/` | `{plugin-name}:{agent-name}` | `bkit:gap-detector` |

**ì¤‘ìš”**: Task toolì—ì„œ plugin agent í˜¸ì¶œ ì‹œ ë°˜ë“œì‹œ prefix í¬í•¨ í•„ìš”!

```javascript
// âŒ ì‹¤íŒ¨
Task(subagent_type="gap-detector", prompt="...")

// âœ… ì„±ê³µ
Task(subagent_type="bkit:gap-detector", prompt="...")
```

---

### 3.5 í•µì‹¬ ë°œê²¬ì‚¬í•­ (ê¸°ì¡´ ì´ìŠˆ)

#### Issue #19276 - Custom Subagent Support in Task Tool

**ë¬¸ì œ ì„¤ëª…**:
> Task Tool currently only recognizes **3 built-in subagents**. Any attempt to use `Task("custom-agent", ...)` fails with:
> ```
> Agent type 'custom-agent' not found.
> Available agents: Bash, general-purpose, plan, explore, ...
> ```

**ì œì•ˆëœ í•´ê²°ì±… (Option C)**:
> Allow invoking plugin agents with namespace prefix:
> ```javascript
> Task("plugin-name:agent-id", "Execute this task")
> // Example: Task("gsd-pipeline:gsd-executor", "Execute plan 01-03")
> ```

#### Issue #17524 - Plugin agents not discovered

**ë¬¸ì œ ì„¤ëª…**:
> Plugins installed via `~/.claude/plugins/` correctly load MCP servers from `.mcp.json`, but agents from `agents/` and skills from `skills/` are not discovered or loaded.

**Workaround**:
```bash
# Symlink plugin agents to user-level location
ln -s ~/.claude/plugins/test-plugin/agents ~/.claude/agents
```

---

## 4. bkit í”ŒëŸ¬ê·¸ì¸ Agent ë“±ë¡ ì„¤ì • ê°ì‚¬

### 4.1 Agent íŒŒì¼ ë¶„ì„

**ìœ„ì¹˜**: `agents/*.md` (ì‹¬ë³¼ë¦­ ë§í¬: `.claude/agents -> ../agents`)

| Agent íŒŒì¼ | `name` í•„ë“œ | Claude Code ë“±ë¡ëª… |
|------------|-------------|-------------------|
| `gap-detector.md` | `gap-detector` | `bkit:gap-detector` |
| `code-analyzer.md` | `code-analyzer` | `bkit:code-analyzer` |
| `pdca-iterator.md` | `pdca-iterator` | `bkit:pdca-iterator` |
| `report-generator.md` | `report-generator` | `bkit:report-generator` |
| `starter-guide.md` | `starter-guide` | `bkit:starter-guide` |
| `design-validator.md` | `design-validator` | `bkit:design-validator` |
| `qa-monitor.md` | `qa-monitor` | `bkit:qa-monitor` |
| `pipeline-guide.md` | `pipeline-guide` | `bkit:pipeline-guide` |
| `bkend-expert.md` | `bkend-expert` | `bkit:bkend-expert` |
| `enterprise-expert.md` | `enterprise-expert` | `bkit:enterprise-expert` |
| `infra-architect.md` | `infra-architect` | `bkit:infra-architect` |

### 4.2 Agent Frontmatter êµ¬ì¡° (ì˜ˆ: gap-detector.md)

```yaml
---
name: gap-detector  # â† íŒŒì¼ ë‚´ ì´ë¦„ (prefix ì—†ìŒ)
description: |
  Agent that detects gaps between design documents...
tools:
  - Read
  - Glob
  - Grep
  - Task
model: opus
---
```

**ê²°ë¡ **: Agent íŒŒì¼ ìì²´ëŠ” ì˜¬ë°”ë¥´ê²Œ êµ¬ì„±ë¨. ë¬¸ì œëŠ” í˜¸ì¶œ ì‹œ prefix ëˆ„ë½.

---

## 5. Hook/Skillì—ì„œ Agent í˜¸ì¶œ ë°©ì‹ ê°ì‚¬

### 5.1 ë¬¸ì œ ì½”ë“œ ìœ„ì¹˜

#### `lib/common.js` - matchImplicitAgentTrigger í•¨ìˆ˜ (line 1974-2053)

```javascript
function matchImplicitAgentTrigger(userMessage) {
  const implicitPatterns = {
    'gap-detector': { ... },      // âŒ prefix ì—†ìŒ
    'code-analyzer': { ... },     // âŒ prefix ì—†ìŒ
    'pdca-iterator': { ... },     // âŒ prefix ì—†ìŒ
    'report-generator': { ... },  // âŒ prefix ì—†ìŒ
    'starter-guide': { ... }      // âŒ prefix ì—†ìŒ
  };

  for (const [agent, config] of Object.entries(implicitPatterns)) {
    if (pattern.test(msg)) {
      return {
        agent,  // â† 'gap-detector' ë°˜í™˜ (prefix ì—†ìŒ)
        confidence: 0.85,
        ...
      };
    }
  }
}
```

#### `scripts/user-prompt-handler.js` (line 69-81)

```javascript
// 2. Implicit Agent Trigger
try {
  const agentTrigger = matchImplicitAgentTrigger(userPrompt);
  if (agentTrigger && agentTrigger.confidence > 0.8) {
    contextParts.push(`Suggested agent: ${agentTrigger.agent}`);
    // â†‘ "Suggested agent: gap-detector" ì¶œë ¥ (prefix ì—†ìŒ)
  }
}
```

#### `skills/pdca/SKILL.md` - agents ë§¤í•‘ (line 21-25)

```yaml
agents:
  analyze: gap-detector      # âŒ prefix ì—†ìŒ
  iterate: pdca-iterator     # âŒ prefix ì—†ìŒ
  report: report-generator   # âŒ prefix ì—†ìŒ
  default: null
```

#### `hooks/session-start.js` - Agent ì¶”ì²œ í…Œì´ë¸” (line 437-459)

```javascript
function getTriggerKeywordTable() {
  return `
### Agent Triggers
| Keywords | Agent | Action |
|----------|-------|--------|
| verify, ê²€ì¦, ... | gap-detector | Run Gap analysis |
| improve, ê°œì„ , ... | pdca-iterator | Auto-improvement |
| analyze, ë¶„ì„, ... | code-analyzer | Code quality analysis |
| report, ë³´ê³ ì„œ, ... | report-generator | Generate completion report |
| help, ë„ì›€, ... | starter-guide | Beginner guide |
`;
}
```

**ë¬¸ì œ**: ëª¨ë“  ìœ„ì¹˜ì—ì„œ `bkit:` prefix ì—†ì´ agent ì´ë¦„ë§Œ ì‚¬ìš©

### 5.2 ì˜í–¥ë°›ëŠ” íŒŒì¼ ëª©ë¡

| íŒŒì¼ | ë¬¸ì œ | ìš°ì„ ìˆœìœ„ |
|------|------|----------|
| `lib/common.js` | `matchImplicitAgentTrigger` í•¨ìˆ˜ | ğŸ”´ Critical |
| `scripts/user-prompt-handler.js` | Agent ì¶”ì²œ ì¶œë ¥ | ğŸ”´ Critical |
| `skills/pdca/SKILL.md` | `agents:` ë§¤í•‘ | ğŸ”´ Critical |
| `skills/code-review/SKILL.md` | `agent: code-analyzer` | ğŸŸ¡ High |
| `skills/starter/SKILL.md` | `agent: starter-guide` | ğŸŸ¡ High |
| `skills/phase-8-review/SKILL.md` | `agents:` ë§¤í•‘ | ğŸŸ¡ High |
| `skills/phase-7-seo-security/SKILL.md` | `agent: code-analyzer` | ğŸŸ¡ High |
| `skills/bkit-rules/SKILL.md` | Agent ì°¸ì¡° | ğŸŸ¢ Medium |
| `hooks/session-start.js` | Trigger í…Œì´ë¸” | ğŸŸ¢ Medium |

---

## 6. ê·¼ë³¸ ì›ì¸ ë¶„ì„

### 6.1 ì›ì¸ ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ê·¼ë³¸ ì›ì¸ ë‹¤ì´ì–´ê·¸ë¨                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [bkit Plugin ì½”ë“œ]                                         â”‚
â”‚       â”‚                                                     â”‚
â”‚       â–¼                                                     â”‚
â”‚  matchImplicitAgentTrigger()                               â”‚
â”‚       â”‚ returns: "gap-detector"                            â”‚
â”‚       â–¼                                                     â”‚
â”‚  UserPromptSubmit Hook                                      â”‚
â”‚       â”‚ outputs: "Suggested agent: gap-detector"           â”‚
â”‚       â–¼                                                     â”‚
â”‚  Claude AI                                                  â”‚
â”‚       â”‚ tries: Task(subagent_type="gap-detector")          â”‚
â”‚       â–¼                                                     â”‚
â”‚  Claude Code Task Tool                                      â”‚
â”‚       â”‚ looks for: "gap-detector" in available agents      â”‚
â”‚       â”‚ finds: "bkit:gap-detector" (with prefix)           â”‚
â”‚       â–¼                                                     â”‚
â”‚  âŒ ERROR: Agent type 'gap-detector' not found              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 ì›ì¸ ë¶„ë¥˜

| ì›ì¸ ìœ í˜• | ì„¤ëª… | ì˜í–¥ë„ |
|-----------|------|--------|
| **ì„¤ê³„ ë¶ˆì¼ì¹˜** | Plugin agent ë“±ë¡ ì‹œ ìë™ìœ¼ë¡œ prefixê°€ ë¶™ì§€ë§Œ, bkit ì½”ë“œëŠ” prefix ì—†ì´ ì°¸ì¡° | Critical |
| **ë¬¸ì„œí™” ë¶€ì¡±** | Claude Code ê³µì‹ ë¬¸ì„œì— plugin agent prefix ê·œì¹™ì´ ëª…í™•íˆ ê¸°ìˆ ë˜ì–´ ìˆìœ¼ë‚˜, bkit ê°œë°œ ì‹œ ë¯¸ë°˜ì˜ | High |
| **í…ŒìŠ¤íŠ¸ ë¶€ì¡±** | Agent í˜¸ì¶œ E2E í…ŒìŠ¤íŠ¸ ë¶€ì¬ | Medium |

---

## 7. ê¶Œì¥ í•´ê²° ë°©ì•ˆ

### 7.1 ì¦‰ì‹œ ìˆ˜ì • (v1.4.6)

#### Option A: í•˜ë“œì½”ë”© prefix ì¶”ê°€ (ê¶Œì¥)

ëª¨ë“  agent ì°¸ì¡°ì— `bkit:` prefix ì¶”ê°€:

```javascript
// lib/common.js - matchImplicitAgentTrigger
const implicitPatterns = {
  'bkit:gap-detector': { ... },      // âœ… prefix ì¶”ê°€
  'bkit:code-analyzer': { ... },     // âœ… prefix ì¶”ê°€
  'bkit:pdca-iterator': { ... },     // âœ… prefix ì¶”ê°€
  'bkit:report-generator': { ... },  // âœ… prefix ì¶”ê°€
  'bkit:starter-guide': { ... }      // âœ… prefix ì¶”ê°€
};
```

```yaml
# skills/pdca/SKILL.md
agents:
  analyze: bkit:gap-detector      # âœ… prefix ì¶”ê°€
  iterate: bkit:pdca-iterator     # âœ… prefix ì¶”ê°€
  report: bkit:report-generator   # âœ… prefix ì¶”ê°€
```

#### Option B: ë™ì  prefix í•´ê²° (ë¯¸ë˜ í™•ì¥ì„±)

```javascript
// lib/common.jsì— ì¶”ê°€
const PLUGIN_NAME = 'bkit';

function getFullAgentName(shortName) {
  return `${PLUGIN_NAME}:${shortName}`;
}

// ì‚¬ìš©
return {
  agent: getFullAgentName(agent),  // 'bkit:gap-detector'
  confidence: 0.85,
  ...
};
```

### 7.2 ìˆ˜ì • í•„ìš” íŒŒì¼ ëª©ë¡

| íŒŒì¼ | ìˆ˜ì • ë‚´ìš© | ì˜ˆìƒ ì‘ì—…ëŸ‰ |
|------|-----------|-------------|
| `lib/common.js` | `matchImplicitAgentTrigger` í•¨ìˆ˜ì˜ agent í‚¤ì— prefix ì¶”ê°€ | 10ë¶„ |
| `skills/pdca/SKILL.md` | `agents:` ë§¤í•‘ì— prefix ì¶”ê°€ | 5ë¶„ |
| `skills/code-review/SKILL.md` | `agent:` í•„ë“œì— prefix ì¶”ê°€ | 2ë¶„ |
| `skills/starter/SKILL.md` | `agent:` í•„ë“œì— prefix ì¶”ê°€ | 2ë¶„ |
| `skills/phase-8-review/SKILL.md` | `agents:` ë§¤í•‘ì— prefix ì¶”ê°€ | 2ë¶„ |
| `skills/phase-7-seo-security/SKILL.md` | `agent:` í•„ë“œì— prefix ì¶”ê°€ | 2ë¶„ |
| `skills/bkit-rules/SKILL.md` | Agent ì°¸ì¡°ì— prefix ì¶”ê°€ | 5ë¶„ |
| `hooks/session-start.js` | Trigger í…Œì´ë¸”ì— prefix ì¶”ê°€ | 5ë¶„ |

### 7.3 í…ŒìŠ¤íŠ¸ ê³„íš

```bash
# ìˆ˜ì • í›„ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
1. Claude Code ì„¸ì…˜ ì‹œì‘
2. "ì„¤ê³„ëŒ€ë¡œ êµ¬í˜„ëì–´?" ì…ë ¥ (gap-detector íŠ¸ë¦¬ê±°)
3. Task toolì´ "bkit:gap-detector"ë¡œ í˜¸ì¶œë˜ëŠ”ì§€ í™•ì¸
4. Agentê°€ ì •ìƒ ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸
```

---

## 8. ì¶”ê°€ ë°œê²¬ì‚¬í•­

### 8.1 Claude Code Platform Issues (ì°¸ê³ )

í˜„ì¬ Claude Code í”Œë«í¼ ìì²´ì—ë„ plugin agent ê´€ë ¨ ì´ìŠˆë“¤ì´ ì¡´ì¬:

1. **Plugin agents not loading** (#17524, #18982)
2. **Skill-scoped hooks not triggered** (#17688)
3. **MCP tools not available for custom agents** (#13605)

ì´ëŸ¬í•œ í”Œë«í¼ ì´ìŠˆë“¤ì€ bkit ìˆ˜ì •ê³¼ ë³„ê°œë¡œ Anthropicì—ì„œ í•´ê²°í•´ì•¼ í•¨.

### 8.2 ê¶Œì¥ Workaround (í”Œë«í¼ ì´ìŠˆ ëŒ€ì‘)

í˜„ì¬ bkitì—ì„œ ì‚¬ìš© ì¤‘ì¸ ì‹¬ë³¼ë¦­ ë§í¬ êµ¬ì¡° ìœ ì§€:
```
.claude/agents -> ../agents
```

ì´ êµ¬ì¡°ëŠ” GitHub Issue #17524ì˜ workaroundì™€ ì¼ì¹˜í•˜ë©°, í”ŒëŸ¬ê·¸ì¸ agentê°€ í”„ë¡œì íŠ¸ ë ˆë²¨ agentë¡œ ì¸ì‹ë˜ë„ë¡ í•¨.

---

## 9. ê²°ë¡ 

### 9.1 ë¬¸ì œ ì‹¬ê°ë„

| í•­ëª© | í‰ê°€ |
|------|------|
| **ì‹¬ê°ë„** | ğŸ”´ Critical |
| **ì˜í–¥ ë²”ìœ„** | ëª¨ë“  bkit agent í˜¸ì¶œ |
| **ìˆ˜ì • ìš©ì´ì„±** | ğŸŸ¢ Easy (ë‹¨ìˆœ ë¬¸ìì—´ ìˆ˜ì •) |
| **íšŒê·€ ìœ„í—˜** | ğŸŸ¢ Low |

### 9.2 ì¦‰ì‹œ ì¡°ì¹˜ í•„ìš”

v1.4.6ì—ì„œ ëª¨ë“  agent ì°¸ì¡°ì— `bkit:` prefixë¥¼ ì¶”ê°€í•˜ì—¬ í•´ê²°.

### 9.3 ì¥ê¸° ê°œì„  ì œì•ˆ

1. **ìƒìˆ˜í™”**: Agent ì´ë¦„ì„ ìƒìˆ˜ë¡œ ê´€ë¦¬ (`AGENTS.GAP_DETECTOR = 'bkit:gap-detector'`)
2. **E2E í…ŒìŠ¤íŠ¸**: Agent í˜¸ì¶œ í”Œë¡œìš° ìë™í™” í…ŒìŠ¤íŠ¸ ì¶”ê°€
3. **ë¬¸ì„œí™”**: Plugin agent ëª…ëª… ê·œì¹™ì„ bkit ê°œë°œ ê°€ì´ë“œì— ì¶”ê°€

---

## 10. ì°¸ê³  ìë£Œ

### 10.1 Claude Code ê³µì‹ ë¬¸ì„œ

- [Create custom subagents](https://code.claude.com/docs/en/sub-agents)
- [Plugin components reference](https://code.claude.com/docs/en/plugins-reference#agents)

### 10.2 ê´€ë ¨ GitHub Issues

**Agent ê´€ë ¨**:
- [#19276 - Custom Subagent Support in Task Tool](https://github.com/anthropics/claude-code/issues/19276)
- [#17524 - Plugin agents not discovered](https://github.com/anthropics/claude-code/issues/17524)
- [#18982 - Plugin agents not loading](https://github.com/anthropics/claude-code/issues/18982)

**Prefix ë¶ˆì¼ì¹˜ ê´€ë ¨** (Claude Code í”Œë«í¼ ë²„ê·¸):
- [#20995 - Inconsistent name prefix handling between commands and skills](https://github.com/anthropics/claude-code/issues/20995)
- [#20802 - Skills with user-invocable: true don't show plugin prefix](https://github.com/anthropics/claude-code/issues/20802)
- [#17271 - Plugin skill doesn't display in slash command](https://github.com/anthropics/claude-code/issues/17271)

### 10.3 bkit ê´€ë ¨ íŒŒì¼

- `lib/common.js` - matchImplicitAgentTrigger í•¨ìˆ˜
- `skills/pdca/SKILL.md` - PDCA Skill agents ë§¤í•‘
- `agents/*.md` - Agent ì •ì˜ íŒŒì¼ë“¤
